<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <title>MIT Course Catalogue Pickr (beta)</title>
        <script src="config.js" type="text/javascript"></script>
        <link type="text/css" rel="stylesheet" href="styles.css" />
        <style>
            #starting-interface {
                padding: 2em;
            }
        </style>
        <script>
            function onLoad() {

                var installHandlers = function(td, num) {

                    td.style.cursor = "pointer";

                    td.onclick = function() {

                        document.getElementById('c' + num).click();

                    };

                };

                

                var table = document.getElementById("course-list");

                var rowCount = Math.ceil(courses.length / 3);

                for (var r = 0; r < rowCount; r++) {

                    var tr = table.insertRow(r);

                    

                    for (var c = 0; c < 3; c++) {

                        var i = c * rowCount + r;

                        if (i >= courses.length) {

                            break;

                        }

                        

                        var course = courses[i];

                        var td0 = tr.insertCell(c * 3);

                        td0.innerHTML = course.number;

                        td0.align = "right";

                        

                        var td1 = tr.insertCell(c * 3 + 1);

                        td1.innerHTML = "<input type='checkbox' " + (course.hasData ? "" : "disabled") + " name='course' id='c" + course.number + "'value='" + course.number + "' />";

                        

                        var td2 = tr.insertCell(c * 3 + 2);

                        td2.innerHTML = course.name;

                        

                        if (course.hasData) {

                            installHandlers(td0, course.number);

                            installHandlers(td2, course.number);

                        };

                        

                        if (!course.hasData) {

                            td0.style.color = "#888";

                            td1.style.color = "#888";

                            td2.style.color = "#888";

                        }

                        

                        if (debug && course.number == "6") {

                            td1.firstChild.checked = true;

                        }

                    }

                }

                

                if (debug) {

                    browseCourses(); // Ditto here.

                }

            }



            function browseCourses() {
                var courses = [];

                var inputs = document.getElementsByName("course");

                for (var i = 0; i < inputs.length; i++) {

                    var input = inputs[i];

                    if (input.checked) {

                        if (input.value == "Hass-D Courses") {
                            courses.push("hass-d");

                        } else {
                            courses.push(input.value);

                        }

                    }

                }
                
                if (courses.length > 0) {
                    document.location = "browse.html?courses=" + encodeURIComponent(courses.join(";"));
                } else {
                    alert("You didn't select any course.");
                }
            }

        </script>
    </head>
    <body onload="onLoad();">
        <div id="title">
            <h1>MIT Course Catalogue Pickr (beta)</h1>
            <div style="position: relative; overflow: visible; z-index: 110; padding-left: 30px;">
                <a href="help.html" target="_blank"><img src="images/question.png" style="border: 0; position: absolute; left: 0px; top: 0px;" /> HELP!</a> &bull;
                <a href="mailto:course-picker@lists.csail.mit.edu">Contact Us</a>
            </div>
        </div>
        
        <div id="starting-interface">
            <p>Pick courses in which you want to take classes:</p>
            <div id="course-table">
                <table id="course-list" cellpadding="2"></table>
            </div>
            <hr />
            <p>
                <span style="color: #a00; font-weight: bold;"><input type='checkbox' name='course' id='hass-d' value='Hass-D Courses'></input> Also include HASS-D classes from all courses</span>
            </p>
            <p><button onclick="browseCourses();">Browse Courses</button></p>
            <p style="color: gray; width: 3in;">
                DISCLAIMER: The data on this site should not be considered
                official. Please refer to the MIT's course catalogue for
                official data.
            </p>
            <p style="text-align: center; padding: 1in; color: gray;">
                powered by<br/>
                <a href="http://simile.mit.edu/exhibit/">Exhibit</a> and
                <a href="http://simile.mit.edu/timegrid/">Timegrid</a>.
            </p>
        </div>
        <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
        </script>
        <script type="text/javascript">
            //_uacct = "UA-355145-1";  Old account.
            _uacct = "UA-2506456-1"; // this one is for pickr.mit.edu
            urchinTracker();
        </script>
    </body>
</html>
