<html>
    <head>
        <title>MIT Course Catalogue Pickr (beta)</title>
        <link type="text/css" rel="stylesheet" href="styles.css" />
        
        <script src="http://static.simile.mit.edu/exhibit/api-2.0/exhibit-api.js" type="text/javascript"></script>
        <script src="http://static.simile.mit.edu/timegrid/api/timegrid-api.js?autoCreate=false" type="text/javascript"></script>
        <script src="picker.js" type="text/javascript"></script>
        <script src="unit-adder.js" type="text/javascript"></script>
        <script src="mini-timegrid.js" type="text/javascript"></script>
    </head>
    <body onload="onLoad();">
        <div id="title">MIT Course Catalogue Pickr (beta)</div>
        <div id="starting-interface">
            <p>Pick courses in which you want to take classes:</p>
			<div id="course-table">
				<table id="course-list" cellpadding="3"></table>
			</div>
            <p><button onclick="browseCourses();">Browse Courses</button></p>
        </div>
        
        <div id="browsing-interface">
            
            <div ex:role="exhibit-lens" class="course-lens" style="display: none;">
                <div class="course-title">
                    <span ex:content=".semester" class="course-semester"></span>
                    <span ex:content=".courseNumber"></span> &bull; <span ex:content=".label"></span>
                </div>
                <table class="course-body">
                    <tr>
                        <td>
                            <div ex:content=".topic" class="course-topic"></div>
                            <div ex:content=".description" class="course-description"></div>
                        </td>
                        <td width="30%" class="course-logistics" rowspan="2">
                            <div ex:select=".offering">
                                <div ex:case="Currently Offered"></div>
                                <div ex:content=".offering" class="no-offering"></div>
                            </div>
                            <div ex:content=".units"></div>
                            <div ex:content=".category"></div>
                            <div ex:if-exists=".TQE">TQE: <span ex:content=".TQE"></span></div>
							<div class="hkn-statistics">
								<div class="hkn-stats-header">HKN Statistics</div>
								<div ex:content="!class">
									<div ex:if-exists=".last-taught">Last time taught by this instructor: <span ex:content=".last-taught"></span></div>
									<div>Instructor: <span ex:content=".irating"></span>/7.0</div>
									<div>Overall: <span ex:content=".orating"></span>/7.0</div>
									<div>Difficulty: <span ex:content=".odifficulty"></span>/7.0</div>
									<div>Hours: <span ex:content=".reported-hours"></span></div>
									<div><a ex:href-content=".evaluation">More info</a></div>
								</div>
							</div>
                            <ul ex:content=".lecture">
                                <li><span ex:content=".day"></span>
                                    <span ex:content=".startHour"></span>
                                    <span ex:if-exists=".endHour">- <span ex:content=".endHour"></span></span>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr valign="bottom">
                        <td><table> 
								<tr ex:content="!class">
									<td class="each-section"><div><span ex:content=".instructor"></span></div>
										<div>
											<div ex:content="!section" class="each-lecture">
												<div><span class="lecture-day" ex:content=".day"></span> <span ex:content=".start"></span><b>-</b><span ex:content=".end"></span></div>
											</div>
											<span ex:if="exists(.picked)">
											<span>
												<button class="pick-button" onclick="pick(this);" ex:sectionID-content="value" style="display:none;">pick</button>
												<button class="unpick-button" onclick="unpick(this);" ex:sectionID-content="value">unpick</button>
											</span>
											<span>
												<button class="pick-button" onclick="pick(this);" ex:sectionID-content="value">pick</button>
												<button class="unpick-button" onclick="unpick(this);" ex:sectionID-content="value" style="display:none;">unpick</button>
											</span>
										</span>
										</div>
									</td>
								</tr>
                        	</table>
                        </td>
                        <td align="right"><span ex:control="copy-button"></span></td>
                    </tr>
                </table>
            </div>
            
            <div id="tabs">
                <button onclick="showAllClasses();">All Classes</button>
                <button onclick="showPickedClasses();">Picked Classes</button>
            </div>
            <div id="picked-sections" style="display: none;">
                <table width="100%" id="content" cellspacing="20">
                    <tr valign="top">
                        <td width="15%">
                            <div ex:role="facet" ex:collectionID="picked-sections" ex:expression=".class.topic"></div>
                            <div ex:role="facet" ex:collectionID="picked-sections" ex:expression=".class.category"></div>
                        </td>
                        <td>
                            <div ex:role="view"
                                ex:orders=".class.courseNumber"
                                ex:collectionID="picked-sections"
                                ex:possibleOrders=".class.label, .class.courseNumber, .class.semester, .class.offering, .class.topic, .class.level, .class.category, .class.units, .class.totalUnits, .class.instructor"
                                >
                            </div>
                        </td>
                        <td width="15%">
                            <div ex:role="facet" ex:collectionID="picked-sections" ex:expression=".TQE"></div>
                            <div ex:role="facet" ex:collectionID="picked-sections" ex:expression=".level"></div>
                        </td>
                    </tr>
                </table>
            </div>
            <div id="all-classes">
                <table width="100%" id="content" cellspacing="10">
                    <tr valign="top">
                        <td width="20%">
                            <b>Search</b>
                            <div ex:role="facet" ex:facetClass="TextSearch"></div>
                            <hr />
							<div ex:role="facet" ex:expression=".type"></div>
                            <div ex:role="facet" ex:expression=".semester" ex:selection="Fall"></div>
                            <div ex:role="facet" ex:expression=".offering" ex:selection="Currently Offered"></div>
                            <div ex:role="facet" ex:expression=".topic"></div>
                            <div ex:role="facet" ex:expression=".category"></div>
                        </td>
                        <td>
                            <div ex:role="view"
                                ex:orders=".courseNumber"
                                ex:possibleOrders=".label, .courseNumber, .semester, .offering, .topic, .level, .category, .units, .totalUnits, .instructor"
                                ex:showAll="false"
                                ex:grouped="false">
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div id="picked-interface">
            <h1>Picked Sections</h1>
            <div id="no-picked-classes">No Sections Picked</div>
            <div id="mini-timegrid" tg:role="grid" 
                tg:views="week" tg:eventSource="miniEventSource"
                tg:mini="true" style="height:200px"></div>
            <div id="total-units"></div>
            <div ex:role="viewPanel">
                <div ex:role="lens">
                    <span ex:content=".class.label"></span>
                </div>
                <div ex:role="view"
                    ex:orders=".class.courseNumber"
                    ex:showHeader="false"
                    ex:showAll="false"
                    ex:grouped="false"
                    ex:collectionID="picked-sections">
                </div>
            </div>
        </div>
    </body>
</html>
