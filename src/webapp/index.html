<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <title>MIT Course Catalogue Pickr (beta)</title>
        <script src="http://static.simile.mit.edu/exhibit/api-2.0/exhibit-api.js" type="text/javascript"></script>
        <script src="http://static.simile.mit.edu/timegrid/api/timegrid-api.js?autoCreate=false" type="text/javascript"></script>
        
        <script src="config.js" type="text/javascript"></script>
        <script src="setup.js" type="text/javascript"></script>
        <script src="picker.js" type="text/javascript"></script>
        <script src="unit-adder.js" type="text/javascript"></script>
        <script src="mini-timegrid.js" type="text/javascript"></script>
        <link type="text/css" rel="stylesheet" href="styles.css" />
    </head>
    <body onload="onLoad();">
        <div id="title">
            <h1>MIT Course Catalogue Pickr (beta)</h1>
            <div style="position: relative; overflow: visible; z-index: 110; padding-left: 30px;">
                <a href="help.html" target="_blank"><img src="images/question.png" style="position: absolute; left: 0px; top: 0px;" /> HELP!</a> &bull;
                <a href="mailto:course-picker@lists.csail.mit.edu">Contact Us</a> &bull;
                This page is powered by <a href="http://simile.mit.edu/exhibit/">Exhibit</a> and
                <a href="http://simile.mit.edu/timegrid/">Timegrid</a>.
            </div>
        </div>
        
        <!-- ==================== Starting Interface ==================== -->
        <div id="starting-interface">
            <p>Pick courses in which you want to take classes:</p>
            <div id="course-table">
                <table id="course-list" cellpadding="2"></table>
            </div>
            <hr />
            <p>
                <span>Also Include All HASS-D Courses <input type='checkbox' name='course' id='hass-d' value='Hass-D Courses' checked></input></span>
            </p>
            <p><button onclick="browseCourses();">Browse Courses</button></p>
        </div>
        
        <!-- ==================== Browsing Interface ==================== -->
        <div id="browsing-interface">
            <!-- ==================== Schedule Details Layer ==================== -->
            <div id="schedule-details-layer">
                <div class="title"><button style="float: right;" onclick="onShowSchedulePreview();">back to all classes &raquo;</button>
                    <span>Weekly Schedule</span>
                </div>
                <div id="schedule-details-layer-inner">
                    <!-- <div ex:role="view"
                        ex:collectionID="picked-sections"
                        ex:showAll="true"
                        ex:grouped="false">
                    </div> -->
                    <div id="timegrid" tg:role="grid" 
                        tg:views="week" tg:eventSource="timegridEventSource"
                        tg:dayStart="8" tg:dayEnd="22" tg:yCell="100"></div>
                </div>
            </div>
        
            <!-- ==================== Classes Layer ==================== -->
            <div id="classes-layer">
                <div ex:role="collection" ex:itemTypes="Class"></div>
                <table cellpadding="10" border="0" cellspacing="0">
                    <tr valign="top">
                        <td width="23%" style="background: #BFBDAC">
                            <b>Search</b>
                            <div ex:role="facet" ex:facetClass="TextSearch"></div>
                            <hr/>
                            <div class="collapsed-facet" onclick="makeFacet(this)" id='level-facet'>level &raquo;</div>
                            <div class="collapsed-facet" onclick="makeFacet(this)" id='units-facet'>units &raquo;</div>
                            <div class="collapsed-facet" onclick="makeFacet(this)" id='total-units-facet'>total units &raquo;</div>
                            <div class="collapsed-facet" onclick="makeFacet(this)" id='day-facet'>day of week &raquo;</div>
                            <div class="collapsed-facet" onclick="makeFacet(this)" id='eng-conc-facet'>engineering concentration &raquo;</div>
                            
                            <div ex:role="facet" ex:expression=".category" ex:facetLabel="category &raquo;" id='category-facet' onclick="unmakeFacet(this)" ex:height="20em"></div>
                            <div ex:role="facet" ex:expression=".semester" ex:facetLabel="semester &raquo;" id='semester-facet' onclick="unmakeFacet(this)" ex:height="7em" ex:selection="Fall"></div>
                            <div ex:role="facet" ex:expression=".offering" ex:facetLabel="offering &raquo;" id='offering-facet' onclick="unmakeFacet(this)" ex:height="8em" ex:selection="Currently Offered"></div>
                        </td>
                        <td>
                            <div ex:role="view"
                                ex:orders=".label"
                                ex:possibleOrders=".label, .semester, .offering, .level, .category, .units, .total-units"
                                ex:showAll="false"
                                ex:grouped="false">
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            
        </div>
        
        <!-- ==================== Schedule Preview Pane ==================== -->
        <div id="schedule-preview-pane">
            <div class="title"><button onclick="onShowScheduleDetails();">&laquo; full view</button>
                <span>Weekly Schedule</span>
            </div>
            
            <div id="mini-timegrid" tg:role="grid" 
                tg:views="week" tg:eventSource="miniEventSource"
                tg:mini="true" tg:dayStart="8" tg:dayEnd="22"
                style="height:250px"></div>
            <div id="total-units"></div>
            <div ex:role="viewPanel">
                <div ex:role="lens" class="preview-class-lens" ex:background-style-content=".color">
                    <button ex:sectionID-content="value" onclick="onUnpick(this);" class="remove-preview">X</button>
                    <span ex:content=".class.label"></span>
                </div>
                <div ex:role="view"
                    ex:orders=".class.courseNumber"
                    ex:showHeader="false"
                    ex:showAll="false"
                    ex:grouped="false"
                    ex:collectionID="picked-sections">
                </div>
            </div>
            <div id="no-picked-classes">No Classes Picked.</div>
        </div>
        
        <!-- ==================== Class Lens ==================== -->
        <div ex:role="exhibit-lens" class="course-lens" style="display: none;" ex:itemTypes="Class">
            <div class="course-title">
                <span ex:content=".semester" class="course-semester"></span>
                <span ex:content=".label"></span>
            </div>
            <table class="course-body" cellspacing="10"><tr>
                <td>
                    <div ex:content=".topic" class="course-topic"></div>
                    <div ex:content=".description" class="course-description"></div>
                    
                    <div ex:content="!class">
                        <div ex:class-subcontent="each-section-{{if(exists(.picked), 'picked', 'unpicked')}}" 
                            ex:id-subcontent="divid-{{value}}"
                            ex:sectionID-content="value"
                            onmouseover="onMouseOverSection(this);"
                            onmouseout="onMouseOutSection(this);">
                            <button
                                ex:sectionID-content="value" 
                                ex:content="if(exists(.picked), 'Remove', 'Add')"
                                onclick="onPickUnpick(this);"></button>
                            
                            <span class="section-instructor" ex:content=".instructor"></span><br />
                            <span class="section-schedule" ex:content="!section"> &bull; 
                                <span ex:content=".day"></span>
                                <span ex:content=".start"></span>-<span ex:content=".end"></span> in 
                                <a ex:href-subcontent="http://whereis.mit.edu/map-jpg?selection={{building(.room)}}&Buildings=go" target="_blank" ex:content=".room"></a></span>
                        </div>
                    </div>
                </td>
                <td width="30%" class="course-logistics">
                    <div ex:select=".offering">
                        <div ex:case="Currently Offered"></div>
                        <div ex:content=".offering" class="no-offering"></div>
                    </div>
                    <div>Units: <span ex:content=".units"></span></div>
                    <div ex:content=".category"></div>
                    <div ex:if-exists="!class.orating" class="hkn-statistics">
                        <div class="hkn-stats-header">HKN Statistics</div>
                        <div ex:content="!class">
                            <table cellspacing="5" cellpadding="0">
                                <tr><td>Instructor:</td>
                                    <td><span ex:content=".irating"></span>/7.0</td></tr>
                                <tr ex:if-exists=".last-taught"><td>Last taught:</td>
                                    <td ex:content=".last-taught"></td></tr>
                                <tr><td>Overall:</td>
                                    <td><span ex:content=".orating"></span>/7.0</td></tr>
                                <tr><td>Difficulty:</td>
                                    <td><span ex:content=".odifficulty"></span>/7.0</td></tr>
                                <tr><td>Hours:</td>
                                    <td><span ex:content=".reported-hours"></span></td></tr>
                                <tr><td><a ex:href-content=".evaluation">More info</a></td></tr>
                            </table>
                        </div>
                    </div>
                </td>
            </tr></table>
        </div>
        
        <!-- ==================== Section Lens ==================== -->
        <div ex:role="exhibit-lens" class="course-lens" style="display: none;" ex:itemTypes="Section">
            <div class="course-title">
                <span ex:content=".class.semester" class="course-semester"></span>
                <span ex:content=".class.courseNumber"></span> &bull; <span ex:content=".class.label"></span>
            </div>
            <table class="course-body" cellspacing="10"><tr>
                <td>
                    <div ex:content=".class.topic" class="course-topic"></div>
                    <div ex:content=".class.description" class="course-description"></div>
                    
                    <div ex:class-subcontent="each-section-picked">
                        <button ex:sectionID-content="value" onclick="onUnpick(this);">Remove</button>
                        
                        <span class="section-instructor" ex:content=".instructor"></span><br />
                        <span class="section-schedule" ex:content="foreach(!section, concat(.day, ' ', .start, '-', .end))"></span>
                    </div>
                </td>
                <td width="30%" class="course-logistics" ex:content=".class">
                    <div ex:select=".offering">
                        <div ex:case="Currently Offered"></div>
                        <div ex:content=".offering" class="no-offering"></div>
                    </div>
                    <div>Units: <span ex:content=".units"></span></div>
                    <div ex:content=".category"></div>
                    <div ex:if-exists="!class.orating" class="hkn-statistics">
                        <div class="hkn-stats-header">HKN Statistics</div>
                        <div ex:content="!class">
                            <table cellspacing="5" cellpadding="0">
                                <tr><td>Instructor:</td>
                                    <td><span ex:content=".irating"></span>/7.0</td></tr>
                                <tr ex:if-exists=".last-taught"><td>Last taught:</td>
                                    <td ex:content=".last-taught"></td></tr>
                                <tr><td>Overall:</td>
                                    <td><span ex:content=".orating"></span>/7.0</td></tr>
                                <tr><td>Difficulty:</td>
                                    <td><span ex:content=".odifficulty"></span>/7.0</td></tr>
                                <tr><td>Hours:</td>
                                    <td><span ex:content=".reported-hours"></span></td></tr>
                                <tr><td><a ex:href-content=".evaluation">More info</a></td></tr>
                            </table>
                        </div>
                    </div>
                </td>
            </tr></table>
        </div>
    </body>
</html>
